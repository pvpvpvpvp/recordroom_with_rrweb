<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>RecordRoom SDK Install Guide</title>
  <style>
    body { font-family: ui-sans-serif, system-ui, -apple-system; padding: 20px; line-height: 1.4; }
    code, pre { background: #f6f6f6; border-radius: 10px; }
    pre { padding: 14px; overflow-x: auto; }
    .box { border: 1px solid #ddd; border-radius: 10px; padding: 12px; margin-top: 12px; }
    .row { margin: 8px 0; }
    a { word-break: break-all; }
  </style>
</head>
<body>
  <h1>Week5: SDK 설치/연동 가이드(데모)</h1>

  <div class="box">
    <div class="row"><b>1) HTML 페이지에 바로 붙이기</b></div>
    <pre><code>&lt;!-- RecordRoom SDK --&gt;
&lt;script src="http://localhost:8080/sdk/recordroom-sdk.js"&gt;&lt;/script&gt;
&lt;script&gt;
  RecordRoom.start({
    apiBase: "http://localhost:8080",
    appVersion: "0.5.0",
    overlay: true,
    reuseRecordInSession: true,
    autoCreateRecord: true,
    patchConsole: true,
    patchNetwork: true,
    patchBreadcrumb: true
  }).then(function (st) {
    console.log("RecordRoom started", st);
  }).catch(function (e) {
    console.error("RecordRoom start failed", e);
  });
&lt;/script&gt;</code></pre>
  </div>

  <div class="box">
    <div class="row"><b>2) Angular(개발서버 4200)에서 붙이는 예시</b></div>
    <div class="row">Angular는 보통 개발서버가 <code>http://localhost:4200</code>이고, RecordRoom 서버가 <code>http://localhost:8080</code>일 수 있습니다.</div>
    <div class="row">이번 주차에서 API CORS를 열어놔서(데모용) 브라우저가 막지 않습니다.</div>

    <div class="row"><b>2-1) index.html에 스크립트 추가</b></div>
    <pre><code>&lt;!-- src/index.html --&gt;
&lt;!doctype html&gt;
&lt;html lang="ko"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;title&gt;My App&lt;/title&gt;
  &lt;base href="/"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;app-root&gt;&lt;/app-root&gt;

  &lt;script src="http://localhost:8080/sdk/recordroom-sdk.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

    <div class="row"><b>2-2) app.component.ts에서 시작</b></div>
    <pre><code>import { Component, OnInit } from '@angular/core';

declare const RecordRoom: {
  start: (opts: any) =&gt; Promise&lt;any&gt;;
  newRecord: (opts?: any) =&gt; Promise&lt;any&gt;;
  getState: () =&gt; any;
  breadcrumb: (name: string, message: string, data?: any) =&gt; void;
};

@Component({
  selector: 'app-root',
  template: '&lt;router-outlet&gt;&lt;/router-outlet&gt;',
})
export class AppComponent implements OnInit {
  async ngOnInit(): Promise&lt;void&gt; {
    try {
      const st = await RecordRoom.start({
        apiBase: 'http://localhost:8080',
        appVersion: '0.5.0',
        overlay: true,
        reuseRecordInSession: true,
        autoCreateRecord: true,
        patchConsole: true,
        patchNetwork: true,
        patchBreadcrumb: true,
      });
      console.log('RecordRoom started', st);
    } catch (e: any) {
      console.error('RecordRoom start failed', e);
    }
  }
}</code></pre>
  </div>

  <div class="box">
    <div class="row"><b>3) 실행 링크</b></div>
    <div class="row"><a href="/demo-sdk">/demo-sdk</a> 에서 SDK 동작을 바로 확인할 수 있습니다.</div>
    <div class="row"><a href="/demo">/demo</a> 는 기존 방식(페이지 내부 스크립트) 데모입니다.</div>
  </div>
</body>
</html>
